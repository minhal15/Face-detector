{"ast":null,"code":"import _classCallCheck from\"/Users/minhalmuraj/Desktop/Face-detector/Face-detector/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/minhalmuraj/Desktop/Face-detector/Face-detector/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/minhalmuraj/Desktop/Face-detector/Face-detector/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/minhalmuraj/Desktop/Face-detector/Face-detector/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Navigation from'./components/navigation/navigation.js';import Logo from'./components/Logo/logo';import Clarifai from'clarifai';import FaceRecognition from'./components/FaceRecognition/FaceRecognition.js';import ImageLinkForm from'./components/ImageLinkForm/ImageLinkForm.js';import Rank from'./components/Rank/Rank.js';import'./App.css';import Signin from'./components/Signin/Signin.js';import Register from'./components/Register/Register.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var app=new Clarifai.App({apiKey:'4bb3a25f2ea84d16a3bb1756fc5dbf39'// enter your API key here\n});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.calculateFaceLocation=function(data){var clarifaiFace=data.outputs[0].data.regions[0].region_info.bounding_box;var image=document.getElementById('inputimage');var width=Number(image.width);var height=Number(image.height);return{leftCol:clarifaiFace.left_col*width,topRow:clarifaiFace.top_row*height,rightCol:width-clarifaiFace.right_col*width,bottomRow:height-clarifaiFace.bottom_row*height};};_this.displayFaceBox=function(box){_this.setState({box:box});};_this.onInputChange=function(event){_this.setState({input:event.target.value});};_this.onButtonSubmit=function(){console.log('click');_this.setState({imageUrl:_this.state.input});app.models.predict(Clarifai.FACE_DETECT_MODEL,_this.state.input).then(function(response){_this.displayFaceBox(_this.calculateFaceLocation(response));}).catch(function(err){console.log(err);});};_this.onRouteChange=function(route){if(route==='signout'){_this.setState({isSignedIn:false});}else if(route==='home'){_this.setState({isSignedIn:true});}_this.setState({route:route});};_this.state={input:'',imageUrl:'',box:{},route:'signin',isSignedIn:false};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this$state=this.state,imageUrl=_this$state.imageUrl,box=_this$state.box,isSignedIn=_this$state.isSignedIn,route=_this$state.route;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navigation,{isSignedIn:isSignedIn,onRouteChange:this.onRouteChange}),route==='home'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(Rank,{}),/*#__PURE__*/_jsx(ImageLinkForm,{onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit}),/*#__PURE__*/_jsx(FaceRecognition,{box:box,imageUrl:imageUrl})]}):this.state.route==='signin'?/*#__PURE__*/_jsx(Signin,{onRouteChange:this.onRouteChange}):/*#__PURE__*/_jsx(Register,{onRouteChange:this.onRouteChange})]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","Navigation","Logo","Clarifai","FaceRecognition","ImageLinkForm","Rank","Signin","Register","app","App","apiKey","calculateFaceLocation","data","clarifaiFace","outputs","regions","region_info","bounding_box","image","document","getElementById","width","Number","height","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","displayFaceBox","box","setState","onInputChange","event","input","target","value","onButtonSubmit","console","log","imageUrl","state","models","predict","FACE_DETECT_MODEL","then","response","catch","err","onRouteChange","route","isSignedIn"],"sources":["/Users/minhalmuraj/Desktop/Face-detector/Face-detector/src/App.js"],"sourcesContent":["import React, {Component} from 'react';\nimport Navigation from './components/navigation/navigation.js';\nimport Logo from './components/Logo/logo';\nimport Clarifai from 'clarifai';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition.js';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm.js';\nimport Rank from './components/Rank/Rank.js';\nimport './App.css';\nimport Signin from './components/Signin/Signin.js';\nimport Register from './components/Register/Register.js';\n\nconst app = new Clarifai.App({\n  apiKey:'4bb3a25f2ea84d16a3bb1756fc5dbf39' // enter your API key here\n}) ;\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      input: '',\n      imageUrl: '',\n      box: {},\n      route: 'signin',\n      isSignedIn: false\n    }\n  }\n\n  calculateFaceLocation = (data) => {\n    const clarifaiFace = data.outputs[0].data.regions[0].region_info.bounding_box;\n    const image = document.getElementById('inputimage');\n    const width = Number(image.width);\n    const height = Number(image.height);\n    return {\n      leftCol: clarifaiFace.left_col * width,\n      topRow: clarifaiFace.top_row * height,\n      rightCol: width - (clarifaiFace.right_col * width),\n      bottomRow: height - (clarifaiFace.bottom_row * height)\n    }\n  };\n\n  displayFaceBox = (box) => {\n    this.setState({box: box});\n  }\n\n  onInputChange = (event) => {\n    this.setState({input: event.target.value});\n  }\n\n  onButtonSubmit = () => {\n\n\n    console.log('click');\n    this.setState({imageUrl: this.state.input})\n    app.models.predict(Clarifai.FACE_DETECT_MODEL, this.state.input)\n    .then((response)=>{\n        this.displayFaceBox(this.calculateFaceLocation(response));\n      }) \n      .catch((err) => {\n        console.log(err);\n      });    \n    \n\n  }\n\n  onRouteChange = (route) => {\n    if (route === 'signout') {\n      this.setState({isSignedIn: false})\n    } else if (route === 'home') {\n      this.setState({isSignedIn: true})\n    }\n    this.setState({route: route});\n  }\n\n  render() {\n    const { imageUrl, box, isSignedIn, route } = this.state;\n    return (\n      <div className=\"App\">\n        <Navigation isSignedIn={isSignedIn} onRouteChange={this.onRouteChange} />\n        { route === 'home' \n          ? <div>\n              <Logo />\n              <Rank />\n              <ImageLinkForm onInputChange={this.onInputChange} onButtonSubmit={this.onButtonSubmit}/>\n              <FaceRecognition box={box} imageUrl={imageUrl}/>\n            </div>\n          : (\n            this.state.route === 'signin'\n            ? <Signin onRouteChange={this.onRouteChange}/>\n            : <Register onRouteChange={this.onRouteChange}/>\n          )\n          \n          \n          \n        }\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}